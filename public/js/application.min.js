$.extend($.fn,{quickClick:function(a){this.live("touchstart",function(b){moved=false;$(this).addClass("pressed");$(this).bind("touchmove",function(){moved=true;$(this).removeClass("pressed")});$(this).bind("touchend",function(c){c.preventDefault();$(this).unbind("touchend");$(this).unbind("touchmove");$(this).removeClass("pressed");if(!moved){a($(this))}})})},slideDown:function(c,e,d){c=c||400;e=e||"ease";this.css("visibility","hidden");this.show();var b=this.height()+"px";var a=this;this.css("height","0px");this.css("visibility","visible");this.animate({height:b},c,e,function(){a.css("height","auto");if(d){d($(this))}})},slideUp:function(b,e,d){b=b||400;e=e||"ease";var c=this.height()+"px";var a=this;this.css("height",c);this.animate({height:"0"},b,e,function(){a.hide();a.css("visibility","hidden");a.css("height","auto");a.show();var f=a.height()+"px";a.css("height",f);a.css("visibility","visible");a.hide();if(d){d($(this))}})},slideToggle:function(a,c,b){if(this.css("display")=="none"){this.slideDown(a,c,b)}else{this.slideUp(a,c,b)}},loadingScreen:function(){this.html('<div class="loading"><div class="spinner"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div><div class="bar7"></div><div class="bar8"></div><div class="bar9"></div><div class="bar10"></div><div class="bar11"></div><div class="bar12"></div></div>Loading...</div>')}});function delayedLoadingScreen(a){a=a||"#main";return setTimeout("$('"+a+"').loadingScreen()",200)}$(document).ready(function(){$("nav ul li").quickClick(function(c){loading=delayedLoadingScreen();tab=c.attr("id");$("nav ul li").removeClass("active");$("nav ul li#"+tab).addClass("active");$.get("/"+tab,function(d){clearTimeout(loading);$("#main").html(d)})});$("ul#guests li .content").quickClick(function(d){var c=d.siblings(".drawer").children(".details_box");if(c.css("display")!="none"){c.slideUp(100)}d.siblings(".drawer").slideToggle(200)});$("ul#guests li .drawer .button.details").quickClick(function(c){c.siblings(".details_box").slideToggle(100)});$("ul#guests li .drawer .button.checkin").quickClick(function(c){if(c.hasClass("checked_in")){c.html("Processing");c.addClass("disabled");$.post("/checkout",{id:c.parents("li").attr("id")},function(){c.removeClass("checked_in");c.html("Check In");c.parents("li").removeClass("checked_in");c.removeClass("disabled")})}else{c.html("Processing");c.addClass("disabled");$.post("/checkin",{id:c.parents("li").attr("id")},function(){c.addClass("checked_in");c.html("Checked In");c.parents("li").addClass("checked_in");c.removeClass("disabled")})}});$("ul#guests li .drawer .details_box .guest_group").quickClick(function(c){loading=delayedLoadingScreen();$.get("/groups/"+c.attr("id"),function(d){clearTimeout(loading);$("nav ul li").removeClass("active");$("nav ul li#groups").addClass("active");$("#main").html(d)})});$("ul#groups li .content").quickClick(function(c){loading=delayedLoadingScreen();$.get("/groups/"+c.parent("li").attr("id"),function(d){clearTimeout(loading);$("#main").html(d)})});$("table#stats tr td.guest_type").quickClick(function(c){loading=delayedLoadingScreen();$.get("/individuals/type/"+c.parent("tr").attr("id"),function(d){clearTimeout(loading);$("#main").html(d)})});$("table.alpha td").quickClick(function(c){loading=delayedLoadingScreen();active=$("nav ul li.active").attr("id");$.get("/"+active+"/alpha/"+c.html(),function(d){clearTimeout(loading);$("#main").html(d)})});$("#search .reset").quickClick(function(c){c.siblings("input").val("");c.hide();$("#search_results").empty()});$("ul.scope li .reset").quickClick(function(){loading=delayedLoadingScreen();active=$("nav ul li.active").attr("id");$.get("/"+active,function(c){clearTimeout(loading);$("#main").html(c)})});$("#search input#search_field").live("focus",function(){if(!$("#search_results").length){$("table.alpha").after('<div id="search_results"></div>')}$("table.alpha").hide()});$("#search input").live("blur",function(){if($(this).val()===""){$("#search_results").remove();$("table.alpha").show()}});$("#search input#search_field").live("keyup",function(){loading=delayedLoadingScreen("#search_results");query=$(this).val();active=$("nav ul li.active").attr("id");if(query!=""){$(this).siblings(".reset").show()}else{$(this).siblings(".reset").hide()}$.get("/"+active+"/search?query="+query,function(c){clearTimeout(loading);$("#search_results").html(c)})});var a=new Array();function b(){for(i=0;i<b.arguments.length;i++){a[i]=new Image();a[i].src=b.arguments[i]}}b("/images/circleright32.png","/images/clear32.png","/images/search32.png")});